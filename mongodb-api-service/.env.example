# ============================================
# MongoDB API Service - Configuration Template
# Copy this file to .env and customize for your environment
# ============================================

# MongoDB Connection
MONGODB_URI=mongodb://admin:your-password@192.168.1.100:27017/?authSource=admin

# Server Configuration
PORT=3300
HOST=127.0.0.1
NODE_ENV=development

# ============================================
# Security Configuration
# ============================================

# API Authentication
SOURCEMOD_API_KEY=sourcemod-mongodb-extension-2024
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-64-chars
ENCRYPTION_KEY=your-32-character-encryption-key-here-change-in-production

# Rate Limiting & DDoS Protection
RATE_LIMIT_WINDOW=900000          # 15 minutes in milliseconds
RATE_LIMIT_MAX=1000               # Max requests per window per IP/API key
RATE_LIMIT_SLOW_DOWN_AFTER=100    # Start slowing down after this many requests
RATE_LIMIT_SLOW_DOWN_DELAY=500    # Delay in milliseconds per request after threshold

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3300,http://127.0.0.1:3300

# HTTPS & Security Headers
REQUIRE_HTTPS=false               # Set to true in production
TRUST_PROXY=1                     # Set to 1 if behind reverse proxy

# ============================================
# Connection Management
# ============================================

MAX_CONNECTIONS=10                # Maximum concurrent MongoDB connections
CONNECTION_TTL=1800000            # Connection timeout (30 minutes)

# ============================================
# Logging Configuration
# ============================================

LOG_LEVEL=info                    # debug, info, warn, error
LOG_FORMAT=json                   # json, simple
LOG_FILE=logs/mongodb-api.log     # Log file path (optional)

# ============================================
# Request Limits
# ============================================

MAX_REQUEST_SIZE=10mb             # Maximum request body size
REQUEST_TIMEOUT=30000             # Request timeout in milliseconds

# ============================================
# IP Whitelist (Optional)
# ============================================

# Uncomment and configure for IP-based access control
# ALLOWED_IPS=127.0.0.1,192.168.1.100,10.0.0.0/8

# ============================================
# Session Configuration
# ============================================

SESSION_SECRET=your-session-secret-change-this-in-production
SESSION_TIMEOUT=24h               # Session timeout

# ============================================
# Performance Tuning
# ============================================

CLUSTER_MODE=false                # Enable cluster mode for multiple CPU cores
WORKER_PROCESSES=auto             # Number of worker processes (auto = CPU cores)

# ============================================
# Monitoring & Health Checks
# ============================================

HEALTH_CHECK_INTERVAL=30000       # Health check interval in milliseconds
METRICS_ENABLED=true              # Enable performance metrics collection
METRICS_PORT=3301                 # Port for metrics endpoint (optional)
